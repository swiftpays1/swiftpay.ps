// ==================== Translations ====================
const translations = {
    ar: {
        logo: 'سويفت باي',
        nav: {
            home: 'الرئيسية',
            countries: 'الدول',
            global: 'الطرق العالمية',
            faq: 'الأسئلة الشائعة',
            contact: 'تواصل معنا'
        },
        hero: {
            title: 'أرسل واستقبل أموالك<br><span class="gradient-text">بكل سهولة وأمان</span>',
            subtitle: 'نوفر لك خدمات تحويل الأموال من وإلى أكثر من 20 دولة حول العالم<br>بأسرع وقت وأعلى مستويات الأمان',
            cta: 'ابدأ التحويل الآن',
            explore: 'استكشف الدول'
        },
        stats: {
            countries: 'دولة',
            banks: 'بنك ومحفظة',
            support: 'دعم فوري',
            secure: 'آمن'
        },
        features: {
            title: 'لماذا سويفت باي؟',
            subtitle: 'نقدم لك أفضل تجربة في تحويل الأموال',
            fast: {
                title: 'سرعة فائقة',
                desc: 'تحويلات فورية خلال دقائق'
            },
            secure: {
                title: 'أمان تام',
                desc: 'تشفير متقدم لحماية معاملاتك'
            },
            competitive: {
                title: 'أسعار تنافسية',
                desc: 'رسوم منخفضة وأسعار صرف ممتازة'
            },
            global: {
                title: 'تغطية عالمية',
                desc: 'أكثر من 20 دولة حول العالم'
            },
            easy: {
                title: 'سهولة الاستخدام',
                desc: 'واجهة بسيطة وسهلة للجميع'
            },
            support: {
                title: 'دعم مستمر',
                desc: 'فريق دعم متاح على مدار الساعة'
            }
        },
        countries: {
            title: 'الدول المدعومة',
            subtitle: 'اختر الدولة التي تريد التحويل منها أو إليها',
            categories: {
                gulf: 'دول الخليج العربي',
                middleeast: 'الشرق الأوسط',
                africa: 'أفريقيا',
                international: 'أوروبا وأمريكا'
            }
        },
        global: {
            title: 'الطرق العالمية',
            subtitle: 'نقبل ونرسل عبر أشهر الطرق العالمية',
            paypal: 'الطريقة الأكثر شيوعاً عالمياً',
            western: 'تحويلات سريعة وموثوقة',
            moneygram: 'خدمة عالمية معتمدة',
            upt: 'Union Pay Transfer',
            usdt: 'عملات رقمية متعددة',
            transfer: 'انقر للتحويل'
        },
        faq: {
            title: 'الأسئلة الشائعة',
            subtitle: 'إجابات على أكثر الأسئلة شيوعاً',
            q1: {
                question: 'كيف يعمل سويفت باي؟',
                answer: 'سويفت باي هي منصة تحويل أموال عالمية تتيح لك إرسال واستقبال الأموال من وإلى أكثر من 20 دولة. ببساطة، اختر الدولة، حدد طريقة الدفع، وتواصل معنا لإتمام العملية بسرعة وأمان.'
            },
            q2: {
                question: 'ما هي الدول المدعومة؟',
                answer: 'ندعم أكثر من 20 دولة بما في ذلك: السعودية، الإمارات، مصر، الأردن، الكويت، البحرين، عمان، قطر، العراق، اليمن، تركيا، لبنان، الجزائر، تونس، المغرب، فلسطين، السودان، دول الاتحاد الأوروبي، أمريكا، وكندا.'
            },
            q3: {
                question: 'كيف أبدأ عملية التحويل؟',
                answer: 'ببساطة، اختر الدولة التي تريد التحويل منها أو إليها، ثم اضغط على "انقر للتحويل" وسيتم توجيهك لصفحة التواصل معنا حيث يمكنك تقديم تفاصيل التحويل المطلوبة.'
            },
            q4: {
                question: 'هل سويفت باي آمن؟',
                answer: 'نعم، نستخدم أحدث تقنيات التشفير والأمان لحماية معلوماتك المالية. جميع المعاملات مشفرة ومحمية بأعلى معايير الأمان العالمية.'
            },
            q5: {
                question: 'كم تستغرق عملية التحويل؟',
                answer: 'معظم التحويلات تتم خلال دقائق معدودة. قد تستغرق بعض التحويلات الدولية من 1-3 أيام عمل حسب الدولة وطريقة الدفع المختارة.'
            },
            q6: {
                question: 'ما هي الرسوم المطبقة؟',
                answer: 'الرسوم تختلف حسب الدولة وطريقة الدفع المختارة. للحصول على تفاصيل دقيقة عن الرسوم، يرجى التواصل معنا مباشرة.'
            }
        },
        contact: {
            title: 'تواصل معنا',
            subtitle: 'نحن هنا لمساعدتك في أي وقت',
            email: {
                title: 'البريد الإلكتروني',
                cta: 'أرسل رسالة'
            },
            whatsapp: {
                title: 'واتساب',
                cta: 'تواصل عبر واتساب'
            },
            availability: 'نحن متاحون على مدار الساعة لمساعدتك في جميع احتياجات التحويل المالي'
        },
        footer: {
            description: 'منصة تحويل الأموال الأكثر أماناً وسرعة في العالم العربي',
            links: 'روابط سريعة',
            contact: 'تواصل معنا',
            rights: 'جميع الحقوق محفوظة'
        },
        modal: {
            banks: 'البنوك المدعومة',
            wallets: 'المحافظ الإلكترونية',
            sendSteps: 'خطوات الإرسال',
            receiveSteps: 'خطوات الاستقبال',
            limits: 'الحدود والقيود',
            fees: 'الرسوم',
            feesNote: 'للاستفسار عن الرسوم التفصيلية، يرجى التواصل معنا',
            transfer: 'ابدأ التحويل'
        }
    },
    en: {
        logo: 'Swift Pay',
        nav: {
            home: 'Home',
            countries: 'Countries',
            global: 'Global Methods',
            faq: 'FAQ',
            contact: 'Contact Us'
        },
        hero: {
            title: 'Send and Receive Your Money<br><span class="gradient-text">Easily and Securely</span>',
            subtitle: 'We provide money transfer services to and from over 20 countries worldwide<br>with the fastest speed and highest security standards',
            cta: 'Start Transfer Now',
            explore: 'Explore Countries'
        },
        stats: {
            countries: 'Countries',
            banks: 'Banks & Wallets',
            support: 'Instant Support',
            secure: 'Secure'
        },
        features: {
            title: 'Why Swift Pay?',
            subtitle: 'We offer you the best money transfer experience',
            fast: {
                title: 'Super Fast',
                desc: 'Instant transfers within minutes'
            },
            secure: {
                title: 'Fully Secure',
                desc: 'Advanced encryption to protect your transactions'
            },
            competitive: {
                title: 'Competitive Rates',
                desc: 'Low fees and excellent exchange rates'
            },
            global: {
                title: 'Global Coverage',
                desc: 'Over 20 countries worldwide'
            },
            easy: {
                title: 'Easy to Use',
                desc: 'Simple and user-friendly interface'
            },
            support: {
                title: 'Continuous Support',
                desc: '24/7 support team available'
            }
        },
        countries: {
            title: 'Supported Countries',
            subtitle: 'Choose the country you want to transfer from or to',
            categories: {
                gulf: 'Gulf Countries',
                middleeast: 'Middle East',
                africa: 'Africa',
                international: 'Europe & Americas'
            }
        },
        global: {
            title: 'Global Methods',
            subtitle: 'We accept and send via the most popular global methods',
            paypal: 'The most popular method worldwide',
            western: 'Fast and reliable transfers',
            moneygram: 'Certified global service',
            upt: 'Union Pay Transfer',
            usdt: 'Multiple cryptocurrencies',
            transfer: 'Click to Transfer'
        },
        faq: {
            title: 'Frequently Asked Questions',
            subtitle: 'Answers to the most common questions',
            q1: {
                question: 'How does Swift Pay work?',
                answer: 'Swift Pay is a global money transfer platform that allows you to send and receive money to and from over 20 countries. Simply choose the country, select the payment method, and contact us to complete the process quickly and securely.'
            },
            q2: {
                question: 'What countries are supported?',
                answer: 'We support over 20 countries including: Saudi Arabia, UAE, Egypt, Jordan, Kuwait, Bahrain, Oman, Qatar, Iraq, Yemen, Turkey, Lebanon, Algeria, Tunisia, Morocco, Palestine, Sudan, EU countries, USA, and Canada.'
            },
            q3: {
                question: 'How do I start a transfer?',
                answer: 'Simply choose the country you want to transfer from or to, then click "Click to Transfer" and you will be directed to our contact page where you can provide the required transfer details.'
            },
            q4: {
                question: 'Is Swift Pay secure?',
                answer: 'Yes, we use the latest encryption and security technologies to protect your financial information. All transactions are encrypted and protected by the highest global security standards.'
            },
            q5: {
                question: 'How long does a transfer take?',
                answer: 'Most transfers are completed within minutes. Some international transfers may take 1-3 business days depending on the country and chosen payment method.'
            },
            q6: {
                question: 'What are the fees?',
                answer: 'Fees vary depending on the country and chosen payment method. For detailed fee information, please contact us directly.'
            }
        },
        contact: {
            title: 'Contact Us',
            subtitle: 'We are here to help you anytime',
            email: {
                title: 'Email',
                cta: 'Send Message'
            },
            whatsapp: {
                title: 'WhatsApp',
                cta: 'Contact via WhatsApp'
            },
            availability: 'We are available 24/7 to help you with all your money transfer needs'
        },
        footer: {
            description: 'The most secure and fastest money transfer platform in the Arab world',
            links: 'Quick Links',
            contact: 'Contact Us',
            rights: 'All Rights Reserved'
        },
        modal: {
            banks: 'Supported Banks',
            wallets: 'E-Wallets',
            sendSteps: 'Sending Steps',
            receiveSteps: 'Receiving Steps',
            limits: 'Limits & Restrictions',
            fees: 'Fees',
            feesNote: 'For detailed fee information, please contact us',
            transfer: 'Start Transfer'
        }
    }
};

// ==================== Countries Data ====================
const countriesData = {
    saudi: {
        flag: '🇸🇦',
        nameAr: 'السعودية',
        nameEn: 'Saudi Arabia',
        banks: ['الراجحي', 'الأهلي السعودي', 'STC Pay', 'مدى'],
        wallets: ['STC Pay', 'Urpay'],
        color: '#006C35'
    },
    uae: {
        flag: '🇦🇪',
        nameAr: 'الإمارات',
        nameEn: 'UAE',
        banks: ['بنك الإمارات دبي الوطني (ENBD)', 'بنك أبوظبي الأول (FAB)', 'بنك دبي الإسلامي'],
        wallets: ['Payit', 'Beam Wallet'],
        color: '#00732F'
    },
    oman: {
        flag: '🇴🇲',
        nameAr: 'سلطنة عمان',
        nameEn: 'Oman',
        banks: ['بنك مسقط', 'البنك الوطني العماني', 'بنك ظفار'],
        wallets: ['Thawani', 'OmanNet'],
        color: '#D62718'
    },
    jordan: {
        flag: '🇯🇴',
        nameAr: 'الأردن',
        nameEn: 'Jordan',
        banks: ['البنك العربي', 'بنك الأردن', 'البنك الأهلي الأردني'],
        wallets: ['eFAWATEERcom', 'JoMoPay'],
        color: '#007A3D'
    },
    egypt: {
        flag: '🇪🇬',
        nameAr: 'مصر',
        nameEn: 'Egypt',
        banks: ['البنك الأهلي المصري', 'بنك مصر', 'CIB'],
        wallets: ['فودافون كاش', 'إيتصالات كاش', 'InstaPay'],
        color: '#C09300'
    },
    kuwait: {
        flag: '🇰🇼',
        nameAr: 'الكويت',
        nameEn: 'Kuwait',
        banks: ['بنك الكويت الوطني (NBK)', 'بنك الخليج', 'بنك بوبيان'],
        wallets: ['KNet', 'Tap'],
        color: '#007A3D'
    },
    bahrain: {
        flag: '🇧🇭',
        nameAr: 'البحرين',
        nameEn: 'Bahrain',
        banks: ['بنك البحرين الوطني (NBB)', 'بنك البحرين الإسلامي', 'بنك الخليج'],
        wallets: ['BenefitPay', 'Fawri+'],
        color: '#CE1126'
    },
    turkey: {
        flag: '🇹🇷',
        nameAr: 'تركيا',
        nameEn: 'Turkey',
        banks: ['İş Bankası', 'Garanti BBVA', 'Ziraat Bankası'],
        wallets: ['Papara', 'Paycell'],
        color: '#E30A17'
    },
    iraq: {
        flag: '🇮🇶',
        nameAr: 'العراق',
        nameEn: 'Iraq',
        banks: ['مصرف الرشيد', 'المصرف التجاري العراقي', 'بنك بغداد'],
        wallets: ['Qi Card', 'FastPay Iraq'],
        color: '#007A3D'
    },
    qatar: {
        flag: '🇶🇦',
        nameAr: 'قطر',
        nameEn: 'Qatar',
        banks: ['بنك قطر الوطني (QNB)', 'بنك قطر الإسلامي', 'بنك الدوحة'],
        wallets: ['QPay', 'Nooq'],
        color: '#8D1B3D'
    },
    yemen: {
        flag: '🇾🇪',
        nameAr: 'اليمن',
        nameEn: 'Yemen',
        banks: ['بنك اليمن الدولي', 'البنك الأهلي اليمني', 'بنك التضامن الإسلامي'],
        wallets: ['Yemen Mobile Money', 'Al-Kuraimi Islamic Microfinance Bank'],
        color: '#CE1126'
    },
    eu: {
        flag: '🇪🇺',
        nameAr: 'الاتحاد الأوروبي',
        nameEn: 'European Union',
        banks: ['SEPA Transfer', 'Revolut', 'N26'],
        wallets: ['Skrill', 'Neteller'],
        color: '#003399'
    },
    usa: {
        flag: '🇺🇸',
        nameAr: 'أمريكا',
        nameEn: 'United States',
        banks: ['Bank of America', 'Chase', 'Wells Fargo'],
        wallets: ['Zelle', 'Venmo', 'Cash App'],
        color: '#B22234'
    },
    canada: {
        flag: '🇨🇦',
        nameAr: 'كندا',
        nameEn: 'Canada',
        banks: ['RBC Royal Bank', 'TD Canada Trust', 'Scotiabank'],
        wallets: ['Interac e-Transfer', 'PayPal'],
        color: '#FF0000'
    },
    algeria: {
        flag: '🇩🇿',
        nameAr: 'الجزائر',
        nameEn: 'Algeria',
        banks: ['بنك الجزائر الخارجي', 'القرض الشعبي الجزائري', 'بنك التنمية المحلية'],
        wallets: ['BaridiMob', 'CCP'],
        color: '#006233'
    },
    lebanon: {
        flag: '🇱🇧',
        nameAr: 'لبنان',
        nameEn: 'Lebanon',
        banks: ['بنك عودة', 'بنك لبنان والمهجر', 'BLOM Bank'],
        wallets: ['OMT', 'Whish Money'],
        color: '#ED1C24'
    },
    tunisia: {
        flag: '🇹🇳',
        nameAr: 'تونس',
        nameEn: 'Tunisia',
        banks: ['البنك الوطني الفلاحي', 'بنك تونس العربي الدولي', 'بنك الزيتونة'],
        wallets: ['Sobflous', 'D17'],
        color: '#E70013'
    },
    morocco: {
        flag: '🇲🇦',
        nameAr: 'المغرب',
        nameEn: 'Morocco',
        banks: ['بنك المغرب', 'Attijariwafa Bank', 'BMCE Bank'],
        wallets: ['CIH Mobile', 'Chaabi Net'],
        color: '#C1272D'
    },
    palestine: {
        flag: '🇵🇸',
        nameAr: 'فلسطين',
        nameEn: 'Palestine',
        banks: ['بنك فلسطين', 'البنك العربي', 'بنك القدس'],
        wallets: ['JawwalPay', 'PalPay'],
        color: '#007A3D'
    },
    sudan: {
        flag: '🇸🇩',
        nameAr: 'السودان',
        nameEn: 'Sudan',
        banks: ['بنك الخرطوم', 'بنك فيصل الإسلامي', 'بنك النيلين'],
        wallets: ['Bankak', 'Sudani Mobile Money'],
        color: '#007229'
    }
};

// ==================== State Management ====================
let currentLang = 'ar';
let currentTheme = 'light';

// ==================== Initialization ====================
document.addEventListener('DOMContentLoaded', () => {
    initializeTheme();
    initializeLanguage();
    renderCountries();
    initializeNavigation();
    initializeFAQ();
    initializeScrollAnimations();
    initializeSmoothScroll();
});

// ==================== Theme Management ====================
function initializeTheme() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    setTheme(savedTheme);
    
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', toggleTheme);
}

function setTheme(theme) {
    currentTheme = theme;
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
    
    const themeIcon = document.querySelector('.theme-icon');
    themeIcon.textContent = theme === 'dark' ? '☀️' : '🌙';
}

function toggleTheme() {
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    setTheme(newTheme);
}

// ==================== Language Management ====================
function initializeLanguage() {
    const savedLang = localStorage.getItem('lang') || 'ar';
    setLanguage(savedLang);
    
    const langToggle = document.getElementById('langToggle');
    langToggle.addEventListener('click', toggleLanguage);
}

function setLanguage(lang) {
    currentLang = lang;
    document.documentElement.setAttribute('lang', lang);
    document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
    localStorage.setItem('lang', lang);
    
    const langText = document.querySelector('.lang-text');
    langText.textContent = lang === 'ar' ? 'EN' : 'ع';
    
    updateTranslations();
    renderCountries();
}

function toggleLanguage() {
    const newLang = currentLang === 'ar' ? 'en' : 'ar';
    setLanguage(newLang);
}

function updateTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = translations[currentLang];
        
        keys.forEach(k => {
            value = value[k];
        });
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = value;
        } else {
            element.innerHTML = value;
        }
    });
}

// ==================== Countries Rendering ====================
function renderCountries() {
    // Define country categories
    const categories = {
        gulf: ['saudi', 'uae', 'oman', 'kuwait', 'bahrain', 'qatar'],
        middleeast: ['jordan', 'lebanon', 'iraq', 'yemen', 'palestine', 'turkey'],
        africa: ['egypt', 'algeria', 'tunisia', 'morocco', 'sudan'],
        international: ['eu', 'usa', 'canada']
    };
    
    // Render each category
    Object.keys(categories).forEach(categoryKey => {
        const gridId = categoryKey + 'Countries';
        const grid = document.getElementById(gridId);
        if (grid) {
            grid.innerHTML = '';
            categories[categoryKey].forEach(countryKey => {
                if (countriesData[countryKey]) {
                    const country = countriesData[countryKey];
                    const countryCard = createCountryCard(countryKey, country);
                    grid.appendChild(countryCard);
                }
            });
        }
    });
    
    // Re-initialize scroll animations for newly added cards
    initializeScrollAnimations();
}

function createCountryCard(countryKey, country) {
    const card = document.createElement('div');
    card.className = 'country-card animate-on-scroll';
    card.innerHTML = `
        <div class="country-flag">${country.flag}</div>
        <h3 class="country-name">${currentLang === 'ar' ? country.nameAr : country.nameEn}</h3>
        <p class="country-info">${country.banks.length} ${currentLang === 'ar' ? 'بنك' : 'banks'} • ${country.wallets.length} ${currentLang === 'ar' ? 'محفظة' : 'wallets'}</p>
        <button class="btn btn-outline" onclick="openCountryModal('${countryKey}')">
            <span>${currentLang === 'ar' ? 'انقر للتحويل' : 'Click to Transfer'}</span>
        </button>
    `;
    
    return card;
}

// ==================== Modal Management ====================
function openCountryModal(countryKey) {
    const country = countriesData[countryKey];
    const modal = document.getElementById('countryModal');
    const modalBody = document.getElementById('modalBody');
    
    const t = translations[currentLang].modal;
    
    modalBody.innerHTML = `
        <div class="modal-header">
            <div class="modal-flag">${country.flag}</div>
            <h2 class="modal-title">${currentLang === 'ar' ? country.nameAr : country.nameEn}</h2>
            <p class="modal-subtitle">${currentLang === 'ar' ? 'تحويل الأموال من وإلى' : 'Transfer money to and from'} ${currentLang === 'ar' ? country.nameAr : country.nameEn}</p>
        </div>
        
        <div class="modal-section">
            <h3>🏦 ${t.banks}</h3>
            <div class="banks-list">
                ${country.banks.map(bank => `<div class="bank-item">${bank}</div>`).join('')}
            </div>
        </div>
        
        <div class="modal-section">
            <h3>💳 ${t.wallets}</h3>
            <div class="wallets-list">
                ${country.wallets.map(wallet => `<div class="wallet-item">${wallet}</div>`).join('')}
            </div>
        </div>
        
        <div class="modal-section">
            <h3>📤 ${t.sendSteps}</h3>
            <div class="steps-list">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'تواصل معنا' : 'Contact Us'}</h4>
                        <p>${currentLang === 'ar' ? 'تواصل معنا عبر البريد الإلكتروني أو واتساب' : 'Contact us via email or WhatsApp'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'قدم التفاصيل' : 'Provide Details'}</h4>
                        <p>${currentLang === 'ar' ? 'قدم تفاصيل التحويل المطلوبة' : 'Provide the required transfer details'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'أرسل الأموال' : 'Send Money'}</h4>
                        <p>${currentLang === 'ar' ? 'سنرسل لك تفاصيل الحساب لإرسال الأموال' : 'We will send you account details to send money'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'تأكيد الاستلام' : 'Confirm Receipt'}</h4>
                        <p>${currentLang === 'ar' ? 'سنؤكد استلام الأموال وإتمام التحويل' : 'We will confirm receipt and complete the transfer'}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-section">
            <h3>📥 ${t.receiveSteps}</h3>
            <div class="steps-list">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'تواصل معنا' : 'Contact Us'}</h4>
                        <p>${currentLang === 'ar' ? 'تواصل معنا لطلب استقبال الأموال' : 'Contact us to request receiving money'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'قدم تفاصيل الحساب' : 'Provide Account Details'}</h4>
                        <p>${currentLang === 'ar' ? 'قدم تفاصيل حسابك البنكي أو محفظتك' : 'Provide your bank account or wallet details'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'استقبل الأموال' : 'Receive Money'}</h4>
                        <p>${currentLang === 'ar' ? 'سنرسل الأموال إلى حسابك فوراً' : 'We will send money to your account immediately'}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-section">
            <h3>💰 ${t.fees}</h3>
            <p>${t.feesNote}</p>
        </div>
        
        <div class="text-center mt-4">
            <a href="#contact" class="btn btn-primary btn-large" onclick="closeModal()">
                <span>${t.transfer}</span>
                <span class="btn-icon">🚀</span>
            </a>
        </div>
    `;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    const modal = document.getElementById('countryModal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// Modal close handlers
document.getElementById('modalClose').addEventListener('click', closeModal);
document.querySelector('.modal-overlay').addEventListener('click', closeModal);

// ==================== Navigation ====================
function initializeNavigation() {
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const navMenu = document.querySelector('.nav-menu');
    const navLinks = document.querySelectorAll('.nav-link');
    
    mobileMenuToggle.addEventListener('click', () => {
        navMenu.classList.toggle('active');
        mobileMenuToggle.classList.toggle('active');
    });
    
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            navLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
            navMenu.classList.remove('active');
            mobileMenuToggle.classList.remove('active');
        });
    });
    
    // Active link on scroll
    window.addEventListener('scroll', () => {
        let current = '';
        const sections = document.querySelectorAll('section[id]');
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (window.pageYOffset >= sectionTop - 200) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    });
}

// ==================== FAQ ====================
function initializeFAQ() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        question.addEventListener('click', () => {
            const isActive = item.classList.contains('active');
            
            // Close all items
            faqItems.forEach(i => i.classList.remove('active'));
            
            // Open clicked item if it wasn't active
            if (!isActive) {
                item.classList.add('active');
            }
        });
    });
}

// ==================== Contact Section ====================
// Contact section now uses direct links (mailto and WhatsApp)
// No form handling needed

// ==================== Scroll Animations ====================
function initializeScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animated');
            }
        });
    }, observerOptions);
    
    const animatedElements = document.querySelectorAll('.animate-on-scroll');
    animatedElements.forEach(el => observer.observe(el));
}

// ==================== Smooth Scroll ====================
function initializeSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href === '#') return;
            
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
                const offsetTop = target.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// ==================== Parallax Effect ====================
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroShapes = document.querySelectorAll('.hero-shape');
    
    heroShapes.forEach((shape, index) => {
        const speed = (index + 1) * 0.1;
        shape.style.transform = `translateY(${scrolled * speed}px)`;
    });
});

