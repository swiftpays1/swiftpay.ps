// ==================== Translations ====================
const translations = {
    ar: {
        logo: 'ุณูููุช ุจุงู',
        nav: {
            home: 'ุงูุฑุฆูุณูุฉ',
            countries: 'ุงูุฏูู',
            global: 'ุงูุทุฑู ุงูุนุงูููุฉ',
            faq: 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ',
            contact: 'ุชูุงุตู ูุนูุง'
        },
        hero: {
            title: 'ุฃุฑุณู ูุงุณุชูุจู ุฃููุงูู<br><span class="gradient-text">ุจูู ุณูููุฉ ูุฃูุงู</span>',
            subtitle: 'ูููุฑ ูู ุฎุฏูุงุช ุชุญููู ุงูุฃููุงู ูู ูุฅูู ุฃูุซุฑ ูู 20 ุฏููุฉ ุญูู ุงูุนุงูู<br>ุจุฃุณุฑุน ููุช ูุฃุนูู ูุณุชููุงุช ุงูุฃูุงู',
            cta: 'ุงุจุฏุฃ ุงูุชุญููู ุงูุขู',
            explore: 'ุงุณุชูุดู ุงูุฏูู'
        },
        stats: {
            countries: 'ุฏููุฉ',
            banks: 'ุจูู ููุญูุธุฉ',
            support: 'ุฏุนู ููุฑู',
            secure: 'ุขูู'
        },
        features: {
            title: 'ููุงุฐุง ุณูููุช ุจุงูุ',
            subtitle: 'ููุฏู ูู ุฃูุถู ุชุฌุฑุจุฉ ูู ุชุญููู ุงูุฃููุงู',
            fast: {
                title: 'ุณุฑุนุฉ ูุงุฆูุฉ',
                desc: 'ุชุญูููุงุช ููุฑูุฉ ุฎูุงู ุฏูุงุฆู'
            },
            secure: {
                title: 'ุฃูุงู ุชุงู',
                desc: 'ุชุดููุฑ ูุชูุฏู ูุญูุงูุฉ ูุนุงููุงุชู'
            },
            competitive: {
                title: 'ุฃุณุนุงุฑ ุชูุงูุณูุฉ',
                desc: 'ุฑุณูู ููุฎูุถุฉ ูุฃุณุนุงุฑ ุตุฑู ููุชุงุฒุฉ'
            },
            global: {
                title: 'ุชุบุทูุฉ ุนุงูููุฉ',
                desc: 'ุฃูุซุฑ ูู 20 ุฏููุฉ ุญูู ุงูุนุงูู'
            },
            easy: {
                title: 'ุณูููุฉ ุงูุงุณุชุฎุฏุงู',
                desc: 'ูุงุฌูุฉ ุจุณูุทุฉ ูุณููุฉ ููุฌููุน'
            },
            support: {
                title: 'ุฏุนู ูุณุชูุฑ',
                desc: 'ูุฑูู ุฏุนู ูุชุงุญ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ'
            }
        },
        countries: {
            title: 'ุงูุฏูู ุงููุฏุนููุฉ',
            subtitle: 'ุงุฎุชุฑ ุงูุฏููุฉ ุงูุชู ุชุฑูุฏ ุงูุชุญููู ูููุง ุฃู ุฅูููุง',
            categories: {
                gulf: 'ุฏูู ุงูุฎููุฌ ุงูุนุฑุจู',
                middleeast: 'ุงูุดุฑู ุงูุฃูุณุท',
                africa: 'ุฃูุฑูููุง',
                international: 'ุฃูุฑูุจุง ูุฃูุฑููุง'
            }
        },
        global: {
            title: 'ุงูุทุฑู ุงูุนุงูููุฉ',
            subtitle: 'ููุจู ููุฑุณู ุนุจุฑ ุฃุดูุฑ ุงูุทุฑู ุงูุนุงูููุฉ',
            paypal: 'ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนุงู ุนุงูููุงู',
            western: 'ุชุญูููุงุช ุณุฑูุนุฉ ูููุซููุฉ',
            moneygram: 'ุฎุฏูุฉ ุนุงูููุฉ ูุนุชูุฏุฉ',
            upt: 'Union Pay Transfer',
            usdt: 'ุนููุงุช ุฑูููุฉ ูุชุนุฏุฏุฉ',
            transfer: 'ุงููุฑ ููุชุญููู'
        },
        faq: {
            title: 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ',
            subtitle: 'ุฅุฌุงุจุงุช ุนูู ุฃูุซุฑ ุงูุฃุณุฆูุฉ ุดููุนุงู',
            q1: {
                question: 'ููู ูุนูู ุณูููุช ุจุงูุ',
                answer: 'ุณูููุช ุจุงู ูู ููุตุฉ ุชุญููู ุฃููุงู ุนุงูููุฉ ุชุชูุญ ูู ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฃููุงู ูู ูุฅูู ุฃูุซุฑ ูู 20 ุฏููุฉ. ุจุจุณุงุทุฉุ ุงุฎุชุฑ ุงูุฏููุฉุ ุญุฏุฏ ุทุฑููุฉ ุงูุฏูุนุ ูุชูุงุตู ูุนูุง ูุฅุชูุงู ุงูุนูููุฉ ุจุณุฑุนุฉ ูุฃูุงู.'
            },
            q2: {
                question: 'ูุง ูู ุงูุฏูู ุงููุฏุนููุฉุ',
                answer: 'ูุฏุนู ุฃูุซุฑ ูู 20 ุฏููุฉ ุจูุง ูู ุฐูู: ุงูุณุนูุฏูุฉุ ุงูุฅูุงุฑุงุชุ ูุตุฑุ ุงูุฃุฑุฏูุ ุงููููุชุ ุงูุจุญุฑููุ ุนูุงูุ ูุทุฑุ ุงูุนุฑุงูุ ุงููููุ ุชุฑููุงุ ูุจูุงูุ ุงูุฌุฒุงุฆุฑุ ุชููุณุ ุงููุบุฑุจุ ููุณุทููุ ุงูุณูุฏุงูุ ุฏูู ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจูุ ุฃูุฑููุงุ ูููุฏุง.'
            },
            q3: {
                question: 'ููู ุฃุจุฏุฃ ุนูููุฉ ุงูุชุญูููุ',
                answer: 'ุจุจุณุงุทุฉุ ุงุฎุชุฑ ุงูุฏููุฉ ุงูุชู ุชุฑูุฏ ุงูุชุญููู ูููุง ุฃู ุฅูููุงุ ุซู ุงุถุบุท ุนูู "ุงููุฑ ููุชุญููู" ูุณูุชู ุชูุฌููู ูุตูุญุฉ ุงูุชูุงุตู ูุนูุง ุญูุซ ููููู ุชูุฏูู ุชูุงุตูู ุงูุชุญููู ุงููุทููุจุฉ.'
            },
            q4: {
                question: 'ูู ุณูููุช ุจุงู ุขููุ',
                answer: 'ูุนูุ ูุณุชุฎุฏู ุฃุญุฏุซ ุชูููุงุช ุงูุชุดููุฑ ูุงูุฃูุงู ูุญูุงูุฉ ูุนูููุงุชู ุงููุงููุฉ. ุฌููุน ุงููุนุงููุงุช ูุดูุฑุฉ ููุญููุฉ ุจุฃุนูู ูุนุงููุฑ ุงูุฃูุงู ุงูุนุงูููุฉ.'
            },
            q5: {
                question: 'ูู ุชุณุชุบุฑู ุนูููุฉ ุงูุชุญูููุ',
                answer: 'ูุนุธู ุงูุชุญูููุงุช ุชุชู ุฎูุงู ุฏูุงุฆู ูุนุฏูุฏุฉ. ูุฏ ุชุณุชุบุฑู ุจุนุถ ุงูุชุญูููุงุช ุงูุฏูููุฉ ูู 1-3 ุฃูุงู ุนูู ุญุณุจ ุงูุฏููุฉ ูุทุฑููุฉ ุงูุฏูุน ุงููุฎุชุงุฑุฉ.'
            },
            q6: {
                question: 'ูุง ูู ุงูุฑุณูู ุงููุทุจูุฉุ',
                answer: 'ุงูุฑุณูู ุชุฎุชูู ุญุณุจ ุงูุฏููุฉ ูุทุฑููุฉ ุงูุฏูุน ุงููุฎุชุงุฑุฉ. ููุญุตูู ุนูู ุชูุงุตูู ุฏูููุฉ ุนู ุงูุฑุณููุ ูุฑุฌู ุงูุชูุงุตู ูุนูุง ูุจุงุดุฑุฉ.'
            }
        },
        contact: {
            title: 'ุชูุงุตู ูุนูุง',
            subtitle: 'ูุญู ููุง ููุณุงุนุฏุชู ูู ุฃู ููุช',
            email: {
                title: 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู',
                cta: 'ุฃุฑุณู ุฑุณุงูุฉ'
            },
            whatsapp: {
                title: 'ูุงุชุณุงุจ',
                cta: 'ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ'
            },
            availability: 'ูุญู ูุชุงุญูู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ ููุณุงุนุฏุชู ูู ุฌููุน ุงุญุชูุงุฌุงุช ุงูุชุญููู ุงููุงูู'
        },
        footer: {
            description: 'ููุตุฉ ุชุญููู ุงูุฃููุงู ุงูุฃูุซุฑ ุฃูุงูุงู ูุณุฑุนุฉ ูู ุงูุนุงูู ุงูุนุฑุจู',
            links: 'ุฑูุงุจุท ุณุฑูุนุฉ',
            contact: 'ุชูุงุตู ูุนูุง',
            rights: 'ุฌููุน ุงูุญููู ูุญููุธุฉ'
        },
        modal: {
            banks: 'ุงูุจููู ุงููุฏุนููุฉ',
            wallets: 'ุงููุญุงูุธ ุงูุฅููุชุฑูููุฉ',
            sendSteps: 'ุฎุทูุงุช ุงูุฅุฑุณุงู',
            receiveSteps: 'ุฎุทูุงุช ุงูุงุณุชูุจุงู',
            limits: 'ุงูุญุฏูุฏ ูุงููููุฏ',
            fees: 'ุงูุฑุณูู',
            feesNote: 'ููุงุณุชูุณุงุฑ ุนู ุงูุฑุณูู ุงูุชูุตูููุฉุ ูุฑุฌู ุงูุชูุงุตู ูุนูุง',
            transfer: 'ุงุจุฏุฃ ุงูุชุญููู'
        }
    },
    en: {
        logo: 'Swift Pay',
        nav: {
            home: 'Home',
            countries: 'Countries',
            global: 'Global Methods',
            faq: 'FAQ',
            contact: 'Contact Us'
        },
        hero: {
            title: 'Send and Receive Your Money<br><span class="gradient-text">Easily and Securely</span>',
            subtitle: 'We provide money transfer services to and from over 20 countries worldwide<br>with the fastest speed and highest security standards',
            cta: 'Start Transfer Now',
            explore: 'Explore Countries'
        },
        stats: {
            countries: 'Countries',
            banks: 'Banks & Wallets',
            support: 'Instant Support',
            secure: 'Secure'
        },
        features: {
            title: 'Why Swift Pay?',
            subtitle: 'We offer you the best money transfer experience',
            fast: {
                title: 'Super Fast',
                desc: 'Instant transfers within minutes'
            },
            secure: {
                title: 'Fully Secure',
                desc: 'Advanced encryption to protect your transactions'
            },
            competitive: {
                title: 'Competitive Rates',
                desc: 'Low fees and excellent exchange rates'
            },
            global: {
                title: 'Global Coverage',
                desc: 'Over 20 countries worldwide'
            },
            easy: {
                title: 'Easy to Use',
                desc: 'Simple and user-friendly interface'
            },
            support: {
                title: 'Continuous Support',
                desc: '24/7 support team available'
            }
        },
        countries: {
            title: 'Supported Countries',
            subtitle: 'Choose the country you want to transfer from or to',
            categories: {
                gulf: 'Gulf Countries',
                middleeast: 'Middle East',
                africa: 'Africa',
                international: 'Europe & Americas'
            }
        },
        global: {
            title: 'Global Methods',
            subtitle: 'We accept and send via the most popular global methods',
            paypal: 'The most popular method worldwide',
            western: 'Fast and reliable transfers',
            moneygram: 'Certified global service',
            upt: 'Union Pay Transfer',
            usdt: 'Multiple cryptocurrencies',
            transfer: 'Click to Transfer'
        },
        faq: {
            title: 'Frequently Asked Questions',
            subtitle: 'Answers to the most common questions',
            q1: {
                question: 'How does Swift Pay work?',
                answer: 'Swift Pay is a global money transfer platform that allows you to send and receive money to and from over 20 countries. Simply choose the country, select the payment method, and contact us to complete the process quickly and securely.'
            },
            q2: {
                question: 'What countries are supported?',
                answer: 'We support over 20 countries including: Saudi Arabia, UAE, Egypt, Jordan, Kuwait, Bahrain, Oman, Qatar, Iraq, Yemen, Turkey, Lebanon, Algeria, Tunisia, Morocco, Palestine, Sudan, EU countries, USA, and Canada.'
            },
            q3: {
                question: 'How do I start a transfer?',
                answer: 'Simply choose the country you want to transfer from or to, then click "Click to Transfer" and you will be directed to our contact page where you can provide the required transfer details.'
            },
            q4: {
                question: 'Is Swift Pay secure?',
                answer: 'Yes, we use the latest encryption and security technologies to protect your financial information. All transactions are encrypted and protected by the highest global security standards.'
            },
            q5: {
                question: 'How long does a transfer take?',
                answer: 'Most transfers are completed within minutes. Some international transfers may take 1-3 business days depending on the country and chosen payment method.'
            },
            q6: {
                question: 'What are the fees?',
                answer: 'Fees vary depending on the country and chosen payment method. For detailed fee information, please contact us directly.'
            }
        },
        contact: {
            title: 'Contact Us',
            subtitle: 'We are here to help you anytime',
            email: {
                title: 'Email',
                cta: 'Send Message'
            },
            whatsapp: {
                title: 'WhatsApp',
                cta: 'Contact via WhatsApp'
            },
            availability: 'We are available 24/7 to help you with all your money transfer needs'
        },
        footer: {
            description: 'The most secure and fastest money transfer platform in the Arab world',
            links: 'Quick Links',
            contact: 'Contact Us',
            rights: 'All Rights Reserved'
        },
        modal: {
            banks: 'Supported Banks',
            wallets: 'E-Wallets',
            sendSteps: 'Sending Steps',
            receiveSteps: 'Receiving Steps',
            limits: 'Limits & Restrictions',
            fees: 'Fees',
            feesNote: 'For detailed fee information, please contact us',
            transfer: 'Start Transfer'
        }
    }
};

// ==================== Countries Data ====================
const countriesData = {
    saudi: {
        flag: '๐ธ๐ฆ',
        nameAr: 'ุงูุณุนูุฏูุฉ',
        nameEn: 'Saudi Arabia',
        banks: ['ุงูุฑุงุฌุญู', 'ุงูุฃููู ุงูุณุนูุฏู', 'STC Pay', 'ูุฏู'],
        wallets: ['STC Pay', 'Urpay'],
        color: '#006C35'
    },
    uae: {
        flag: '๐ฆ๐ช',
        nameAr: 'ุงูุฅูุงุฑุงุช',
        nameEn: 'UAE',
        banks: ['ุจูู ุงูุฅูุงุฑุงุช ุฏุจู ุงููุทูู (ENBD)', 'ุจูู ุฃุจูุธุจู ุงูุฃูู (FAB)', 'ุจูู ุฏุจู ุงูุฅุณูุงูู'],
        wallets: ['Payit', 'Beam Wallet'],
        color: '#00732F'
    },
    oman: {
        flag: '๐ด๐ฒ',
        nameAr: 'ุณูุทูุฉ ุนูุงู',
        nameEn: 'Oman',
        banks: ['ุจูู ูุณูุท', 'ุงูุจูู ุงููุทูู ุงูุนูุงูู', 'ุจูู ุธูุงุฑ'],
        wallets: ['Thawani', 'OmanNet'],
        color: '#D62718'
    },
    jordan: {
        flag: '๐ฏ๐ด',
        nameAr: 'ุงูุฃุฑุฏู',
        nameEn: 'Jordan',
        banks: ['ุงูุจูู ุงูุนุฑุจู', 'ุจูู ุงูุฃุฑุฏู', 'ุงูุจูู ุงูุฃููู ุงูุฃุฑุฏูู'],
        wallets: ['eFAWATEERcom', 'JoMoPay'],
        color: '#007A3D'
    },
    egypt: {
        flag: '๐ช๐ฌ',
        nameAr: 'ูุตุฑ',
        nameEn: 'Egypt',
        banks: ['ุงูุจูู ุงูุฃููู ุงููุตุฑู', 'ุจูู ูุตุฑ', 'CIB'],
        wallets: ['ููุฏุงููู ูุงุด', 'ุฅูุชุตุงูุงุช ูุงุด', 'InstaPay'],
        color: '#C09300'
    },
    kuwait: {
        flag: '๐ฐ๐ผ',
        nameAr: 'ุงููููุช',
        nameEn: 'Kuwait',
        banks: ['ุจูู ุงููููุช ุงููุทูู (NBK)', 'ุจูู ุงูุฎููุฌ', 'ุจูู ุจูุจูุงู'],
        wallets: ['KNet', 'Tap'],
        color: '#007A3D'
    },
    bahrain: {
        flag: '๐ง๐ญ',
        nameAr: 'ุงูุจุญุฑูู',
        nameEn: 'Bahrain',
        banks: ['ุจูู ุงูุจุญุฑูู ุงููุทูู (NBB)', 'ุจูู ุงูุจุญุฑูู ุงูุฅุณูุงูู', 'ุจูู ุงูุฎููุฌ'],
        wallets: ['BenefitPay', 'Fawri+'],
        color: '#CE1126'
    },
    turkey: {
        flag: '๐น๐ท',
        nameAr: 'ุชุฑููุง',
        nameEn: 'Turkey',
        banks: ['ฤฐล Bankasฤฑ', 'Garanti BBVA', 'Ziraat Bankasฤฑ'],
        wallets: ['Papara', 'Paycell'],
        color: '#E30A17'
    },
    iraq: {
        flag: '๐ฎ๐ถ',
        nameAr: 'ุงูุนุฑุงู',
        nameEn: 'Iraq',
        banks: ['ูุตุฑู ุงูุฑุดูุฏ', 'ุงููุตุฑู ุงูุชุฌุงุฑู ุงูุนุฑุงูู', 'ุจูู ุจุบุฏุงุฏ'],
        wallets: ['Qi Card', 'FastPay Iraq'],
        color: '#007A3D'
    },
    qatar: {
        flag: '๐ถ๐ฆ',
        nameAr: 'ูุทุฑ',
        nameEn: 'Qatar',
        banks: ['ุจูู ูุทุฑ ุงููุทูู (QNB)', 'ุจูู ูุทุฑ ุงูุฅุณูุงูู', 'ุจูู ุงูุฏูุญุฉ'],
        wallets: ['QPay', 'Nooq'],
        color: '#8D1B3D'
    },
    yemen: {
        flag: '๐พ๐ช',
        nameAr: 'ุงูููู',
        nameEn: 'Yemen',
        banks: ['ุจูู ุงูููู ุงูุฏููู', 'ุงูุจูู ุงูุฃููู ุงููููู', 'ุจูู ุงูุชุถุงูู ุงูุฅุณูุงูู'],
        wallets: ['Yemen Mobile Money', 'Al-Kuraimi Islamic Microfinance Bank'],
        color: '#CE1126'
    },
    eu: {
        flag: '๐ช๐บ',
        nameAr: 'ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจู',
        nameEn: 'European Union',
        banks: ['SEPA Transfer', 'Revolut', 'N26'],
        wallets: ['Skrill', 'Neteller'],
        color: '#003399'
    },
    usa: {
        flag: '๐บ๐ธ',
        nameAr: 'ุฃูุฑููุง',
        nameEn: 'United States',
        banks: ['Bank of America', 'Chase', 'Wells Fargo'],
        wallets: ['Zelle', 'Venmo', 'Cash App'],
        color: '#B22234'
    },
    canada: {
        flag: '๐จ๐ฆ',
        nameAr: 'ููุฏุง',
        nameEn: 'Canada',
        banks: ['RBC Royal Bank', 'TD Canada Trust', 'Scotiabank'],
        wallets: ['Interac e-Transfer', 'PayPal'],
        color: '#FF0000'
    },
    algeria: {
        flag: '๐ฉ๐ฟ',
        nameAr: 'ุงูุฌุฒุงุฆุฑ',
        nameEn: 'Algeria',
        banks: ['ุจูู ุงูุฌุฒุงุฆุฑ ุงูุฎุงุฑุฌู', 'ุงููุฑุถ ุงูุดุนุจู ุงูุฌุฒุงุฆุฑู', 'ุจูู ุงูุชูููุฉ ุงููุญููุฉ'],
        wallets: ['BaridiMob', 'CCP'],
        color: '#006233'
    },
    lebanon: {
        flag: '๐ฑ๐ง',
        nameAr: 'ูุจูุงู',
        nameEn: 'Lebanon',
        banks: ['ุจูู ุนูุฏุฉ', 'ุจูู ูุจูุงู ูุงูููุฌุฑ', 'BLOM Bank'],
        wallets: ['OMT', 'Whish Money'],
        color: '#ED1C24'
    },
    tunisia: {
        flag: '๐น๐ณ',
        nameAr: 'ุชููุณ',
        nameEn: 'Tunisia',
        banks: ['ุงูุจูู ุงููุทูู ุงูููุงุญู', 'ุจูู ุชููุณ ุงูุนุฑุจู ุงูุฏููู', 'ุจูู ุงูุฒูุชููุฉ'],
        wallets: ['Sobflous', 'D17'],
        color: '#E70013'
    },
    morocco: {
        flag: '๐ฒ๐ฆ',
        nameAr: 'ุงููุบุฑุจ',
        nameEn: 'Morocco',
        banks: ['ุจูู ุงููุบุฑุจ', 'Attijariwafa Bank', 'BMCE Bank'],
        wallets: ['CIH Mobile', 'Chaabi Net'],
        color: '#C1272D'
    },
    palestine: {
        flag: '๐ต๐ธ',
        nameAr: 'ููุณุทูู',
        nameEn: 'Palestine',
        banks: ['ุจูู ููุณุทูู', 'ุงูุจูู ุงูุนุฑุจู', 'ุจูู ุงููุฏุณ'],
        wallets: ['JawwalPay', 'PalPay'],
        color: '#007A3D'
    },
    sudan: {
        flag: '๐ธ๐ฉ',
        nameAr: 'ุงูุณูุฏุงู',
        nameEn: 'Sudan',
        banks: ['ุจูู ุงูุฎุฑุทูู', 'ุจูู ููุตู ุงูุฅุณูุงูู', 'ุจูู ุงูููููู'],
        wallets: ['Bankak', 'Sudani Mobile Money'],
        color: '#007229'
    }
};

// ==================== State Management ====================
let currentLang = 'ar';
let currentTheme = 'light';

// ==================== Initialization ====================
document.addEventListener('DOMContentLoaded', () => {
    initializeTheme();
    initializeLanguage();
    renderCountries();
    initializeNavigation();
    initializeFAQ();
    initializeScrollAnimations();
    initializeSmoothScroll();
});

// ==================== Theme Management ====================
function initializeTheme() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    setTheme(savedTheme);
    
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', toggleTheme);
}

function setTheme(theme) {
    currentTheme = theme;
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
    
    const themeIcon = document.querySelector('.theme-icon');
    themeIcon.textContent = theme === 'dark' ? 'โ๏ธ' : '๐';
}

function toggleTheme() {
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    setTheme(newTheme);
}

// ==================== Language Management ====================
function initializeLanguage() {
    const savedLang = localStorage.getItem('lang') || 'ar';
    setLanguage(savedLang);
    
    const langToggle = document.getElementById('langToggle');
    langToggle.addEventListener('click', toggleLanguage);
}

function setLanguage(lang) {
    currentLang = lang;
    document.documentElement.setAttribute('lang', lang);
    document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
    localStorage.setItem('lang', lang);
    
    const langText = document.querySelector('.lang-text');
    langText.textContent = lang === 'ar' ? 'EN' : 'ุน';
    
    updateTranslations();
    renderCountries();
}

function toggleLanguage() {
    const newLang = currentLang === 'ar' ? 'en' : 'ar';
    setLanguage(newLang);
}

function updateTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = translations[currentLang];
        
        keys.forEach(k => {
            value = value[k];
        });
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = value;
        } else {
            element.innerHTML = value;
        }
    });
}

// ==================== Countries Rendering ====================
function renderCountries() {
    // Define country categories
    const categories = {
        gulf: ['saudi', 'uae', 'oman', 'kuwait', 'bahrain', 'qatar'],
        middleeast: ['jordan', 'lebanon', 'iraq', 'yemen', 'palestine', 'turkey'],
        africa: ['egypt', 'algeria', 'tunisia', 'morocco', 'sudan'],
        international: ['eu', 'usa', 'canada']
    };
    
    // Render each category
    Object.keys(categories).forEach(categoryKey => {
        const gridId = categoryKey + 'Countries';
        const grid = document.getElementById(gridId);
        if (grid) {
            grid.innerHTML = '';
            categories[categoryKey].forEach(countryKey => {
                if (countriesData[countryKey]) {
                    const country = countriesData[countryKey];
                    const countryCard = createCountryCard(countryKey, country);
                    grid.appendChild(countryCard);
                }
            });
        }
    });
    
    // Re-initialize scroll animations for newly added cards
    initializeScrollAnimations();
}

function createCountryCard(countryKey, country) {
    const card = document.createElement('div');
    card.className = 'country-card animate-on-scroll';
    card.innerHTML = `
        <div class="country-flag">${country.flag}</div>
        <h3 class="country-name">${currentLang === 'ar' ? country.nameAr : country.nameEn}</h3>
        <p class="country-info">${country.banks.length} ${currentLang === 'ar' ? 'ุจูู' : 'banks'} โข ${country.wallets.length} ${currentLang === 'ar' ? 'ูุญูุธุฉ' : 'wallets'}</p>
        <button class="btn btn-outline" onclick="openCountryModal('${countryKey}')">
            <span>${currentLang === 'ar' ? 'ุงููุฑ ููุชุญููู' : 'Click to Transfer'}</span>
        </button>
    `;
    
    return card;
}

// ==================== Modal Management ====================
function openCountryModal(countryKey) {
    const country = countriesData[countryKey];
    const modal = document.getElementById('countryModal');
    const modalBody = document.getElementById('modalBody');
    
    const t = translations[currentLang].modal;
    
    modalBody.innerHTML = `
        <div class="modal-header">
            <div class="modal-flag">${country.flag}</div>
            <h2 class="modal-title">${currentLang === 'ar' ? country.nameAr : country.nameEn}</h2>
            <p class="modal-subtitle">${currentLang === 'ar' ? 'ุชุญููู ุงูุฃููุงู ูู ูุฅูู' : 'Transfer money to and from'} ${currentLang === 'ar' ? country.nameAr : country.nameEn}</p>
        </div>
        
        <div class="modal-section">
            <h3>๐ฆ ${t.banks}</h3>
            <div class="banks-list">
                ${country.banks.map(bank => `<div class="bank-item">${bank}</div>`).join('')}
            </div>
        </div>
        
        <div class="modal-section">
            <h3>๐ณ ${t.wallets}</h3>
            <div class="wallets-list">
                ${country.wallets.map(wallet => `<div class="wallet-item">${wallet}</div>`).join('')}
            </div>
        </div>
        
        <div class="modal-section">
            <h3>๐ค ${t.sendSteps}</h3>
            <div class="steps-list">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ุชูุงุตู ูุนูุง' : 'Contact Us'}</h4>
                        <p>${currentLang === 'ar' ? 'ุชูุงุตู ูุนูุง ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูุงุชุณุงุจ' : 'Contact us via email or WhatsApp'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ูุฏู ุงูุชูุงุตูู' : 'Provide Details'}</h4>
                        <p>${currentLang === 'ar' ? 'ูุฏู ุชูุงุตูู ุงูุชุญููู ุงููุทููุจุฉ' : 'Provide the required transfer details'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ุฃุฑุณู ุงูุฃููุงู' : 'Send Money'}</h4>
                        <p>${currentLang === 'ar' ? 'ุณูุฑุณู ูู ุชูุงุตูู ุงูุญุณุงุจ ูุฅุฑุณุงู ุงูุฃููุงู' : 'We will send you account details to send money'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ุชุฃููุฏ ุงูุงุณุชูุงู' : 'Confirm Receipt'}</h4>
                        <p>${currentLang === 'ar' ? 'ุณูุคูุฏ ุงุณุชูุงู ุงูุฃููุงู ูุฅุชูุงู ุงูุชุญููู' : 'We will confirm receipt and complete the transfer'}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-section">
            <h3>๐ฅ ${t.receiveSteps}</h3>
            <div class="steps-list">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ุชูุงุตู ูุนูุง' : 'Contact Us'}</h4>
                        <p>${currentLang === 'ar' ? 'ุชูุงุตู ูุนูุง ูุทูุจ ุงุณุชูุจุงู ุงูุฃููุงู' : 'Contact us to request receiving money'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ูุฏู ุชูุงุตูู ุงูุญุณุงุจ' : 'Provide Account Details'}</h4>
                        <p>${currentLang === 'ar' ? 'ูุฏู ุชูุงุตูู ุญุณุงุจู ุงูุจููู ุฃู ูุญูุธุชู' : 'Provide your bank account or wallet details'}</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>${currentLang === 'ar' ? 'ุงุณุชูุจู ุงูุฃููุงู' : 'Receive Money'}</h4>
                        <p>${currentLang === 'ar' ? 'ุณูุฑุณู ุงูุฃููุงู ุฅูู ุญุณุงุจู ููุฑุงู' : 'We will send money to your account immediately'}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-section">
            <h3>๐ฐ ${t.fees}</h3>
            <p>${t.feesNote}</p>
        </div>
        
        <div class="text-center mt-4">
            <a href="#contact" class="btn btn-primary btn-large" onclick="closeModal()">
                <span>${t.transfer}</span>
                <span class="btn-icon">๐</span>
            </a>
        </div>
    `;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    const modal = document.getElementById('countryModal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// Modal close handlers
document.getElementById('modalClose').addEventListener('click', closeModal);
document.querySelector('.modal-overlay').addEventListener('click', closeModal);

// ==================== Navigation ====================
function initializeNavigation() {
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const navMenu = document.querySelector('.nav-menu');
    const navLinks = document.querySelectorAll('.nav-link');
    
    mobileMenuToggle.addEventListener('click', () => {
        navMenu.classList.toggle('active');
        mobileMenuToggle.classList.toggle('active');
    });
    
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            navLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
            navMenu.classList.remove('active');
            mobileMenuToggle.classList.remove('active');
        });
    });
    
    // Active link on scroll
    window.addEventListener('scroll', () => {
        let current = '';
        const sections = document.querySelectorAll('section[id]');
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (window.pageYOffset >= sectionTop - 200) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    });
}

// ==================== FAQ ====================
function initializeFAQ() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        question.addEventListener('click', () => {
            const isActive = item.classList.contains('active');
            
            // Close all items
            faqItems.forEach(i => i.classList.remove('active'));
            
            // Open clicked item if it wasn't active
            if (!isActive) {
                item.classList.add('active');
            }
        });
    });
}

// ==================== Contact Section ====================
// Contact section now uses direct links (mailto and WhatsApp)
// No form handling needed

// ==================== Scroll Animations ====================
function initializeScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animated');
            }
        });
    }, observerOptions);
    
    const animatedElements = document.querySelectorAll('.animate-on-scroll');
    animatedElements.forEach(el => observer.observe(el));
}

// ==================== Smooth Scroll ====================
function initializeSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href === '#') return;
            
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
                const offsetTop = target.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// ==================== Parallax Effect ====================
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroShapes = document.querySelectorAll('.hero-shape');
    
    heroShapes.forEach((shape, index) => {
        const speed = (index + 1) * 0.1;
        shape.style.transform = `translateY(${scrolled * speed}px)`;
    });
});

